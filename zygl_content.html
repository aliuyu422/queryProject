<!DOCTYPE html>
<html class="um landscape min-width-240px min-width-320px min-width-480px min-width-768px min-width-1024px">
    <head>
        <title></title>
        <meta charset="utf-8">
        <meta name="viewport" content="target-densitydpi=device-dpi, width=device-width, initial-scale=1, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
        <link rel="stylesheet" href="css/fonts/font-awesome.min.css">
        <link rel="stylesheet" href="css/ui-box.css">
        <link rel="stylesheet" href="css/ui-base.css">
        <link rel="stylesheet" href="css/ui-color.css">
        <link rel="stylesheet" href="css/appcan.icon.css">
        <link rel="stylesheet" href="css/appcan.control.css">
    </head>
    <body class="um-vp bc-bg" ontouchstart>
        <div id="context">
            
        </div>
        <script src="js/appcan.js"></script>
        <script src="js/appcan.control.js"></script>
        <script src="js/req.js"></script>
    </body>
    <script>
        appcan.ready(function() {
            appcan.initBounce();
            initPage();
        })
        
        function initPage(){
            req.req_func.req_classifyList(function(data){
                if(data){
                  var html='';
                  /*html+="<div class='uba b-gra c-wh us uc-b'>";
                  for (var i=0; i < data.rows.length; i++) {
                      html+="<div class='btn uc-t ubb ub b-gra t-bla ub-ac lis' data-classifyname='"+data.rows[i].classifyName+"' data-vid='"+data.rows[i].id+"' id='btn"+i+"'>";
                      html+="<div class='tx-l ub-f1 ut-s'>"+data.rows[i].classifyName+"</div>";
                      html+="<div class='tx-r t-blu ulev-1'>查看></div></div>";
                  }
                  html+="</div>";*/
                  for (var i=0; i < data.rows.length; i++) {
                     if(i==0 || i%3==0){
                         html+="<div style='width: 100%;height: 50;'>&nbsp;</div>";
                         html+="<table width='100%' style='vertical-align:middle; text-align:center;'><tr>";
                     }
                     if((i+1)%3==0){
                         html+="<td style='width:34%;'>"; 
                         html+="<div class='btn ub-f1' data-classifyname='"+data.rows[i].classifyName+"' data-vid='"+data.rows[i].id+"' id='btn"+i+"'>"; 
                         html+="<img src='css/current_icon/"+data.rows[i].iconName+"' height='65' width='65' />"; 
                         html+="<div class='font-p'><font size='1.5'>"+data.rows[i].classifyName+"</font></div>"; 
                         html+="</td>";
                         html+="</tr></table>";
                     }else{
                         html+="<td style='width:33%;'>"; 
                         html+="<div class='btn ub-f1' data-classifyname='"+data.rows[i].classifyName+"' data-vid='"+data.rows[i].id+"' id='btn"+i+"'>"; 
                         html+="<img src='css/current_icon/"+data.rows[i].iconName+"' height='65' width='65' />"; 
                         html+="<div class='font-p'><font size='1.5'>"+data.rows[i].classifyName+"</font></div>"; 
                         html+="</td>";
                     }
                     if(i==data.rows.length-1){
                         for (var j=1; j < 3; j++) {
                            html+="<td style='width:34%;'>&nbsp;</td>";
                            if((i+1+j)%3==0){
                                html+="</tr></table>";
                                break;
                            }
                         };
                     }
                     
                  }
                  $('#context').html(html);
                  appcan.button(".btn", "ani-act", function() {
                    appcan.locStorage.setVal(req.locfield.classifyId,$(this).data('vid'));
                    appcan.locStorage.setVal(req.locfield.classifyName,$(this).data('classifyname'));
                    appcan.window.open("resview"+(new Date().getTime()),"zygl_resView.html",1,0);
                  });
                }
            },function(){});
            
        }
    </script>
</html>
